---
import FeaturesSection from "@/components/home/features-section.astro";
import FinalCtaSection from "@/components/home/final-cta-section.astro";
import HeroSection from "@/components/home/hero-section.astro";
import HowItWorksSection from "@/components/home/how-it-works-section.astro";
import PricingSection from "@/components/home/pricing-section.astro";
import PrivacySection from "@/components/home/privacy-section.astro";
import UseCasesSection from "@/components/home/use-cases-section.astro";
import RootLayout from "@/layouts/root-layout.astro";
import { siteConfig } from "@/lib/site-config";
import type { Feature, PricingTier, Step, TrustBadge } from "@/types";

const formattedPrice = new Intl.NumberFormat(siteConfig.locale, {
  style: "currency",
  currency: siteConfig.pricing.premium.currency,
}).format(siteConfig.pricing.premium.price);

const features: Feature[] = [
  {
    icon: "lucide:lightbulb",
    title: "Smart Extraction",
    description:
      "Powered by Mozilla Readability — the same technology behind Firefox Reader View. Automatically removes ads, navigation, and clutter.",
  },
  {
    icon: "lucide:file-text",
    title: "Beautiful Markdown",
    description:
      "Preserves headings, lists, links, tables, code blocks, and text formatting. Images are stripped for cleaner AI context.",
  },
  {
    icon: "lucide:palette",
    title: "Syntax Highlighting",
    description:
      "Markdown is beautifully rendered with color-coded syntax for headers, links, bold, and other formatting.",
  },
  {
    icon: "lucide:send",
    title: "Direct AI Integration",
    description:
      "Open directly in ChatGPT or Claude with one click, or copy the Markdown to use anywhere.",
  },
  {
    icon: "lucide:panel-right",
    title: "Side Panel UI",
    description:
      "Uses Chrome's native side panel for a seamless, non-intrusive experience. Your content stays visible while you browse.",
  },
  {
    icon: "lucide:moon",
    title: "Dark Mode",
    description:
      "Automatically matches your system's dark or light mode preference. Easy on the eyes, day or night.",
  },
];

const steps: Step[] = [
  {
    title: "Browse any webpage",
    description:
      "Navigate to any article, documentation, or webpage you want to share with AI.",
  },
  {
    title: "Click the extension",
    description:
      "One click opens the side panel with beautifully formatted Markdown content.",
  },
  {
    title: "Send to AI",
    description:
      "Open directly in ChatGPT or Claude, or copy to any AI assistant of your choice.",
  },
];

const useCases = [
  "Summarizing long articles",
  "Analyzing research papers",
  "Understanding documentation",
  "Asking questions about news",
  "Feeding context to AI coding assistants",
  "Saving articles in portable format",
];

const privacyHighlights = [
  "Page content processed locally",
  "No data sent to our servers",
  "No analytics or tracking",
  "Works completely offline",
];

const pricingTiers: PricingTier[] = [
  {
    tier: "free",
    name: "Free",
    tagline: "Perfect for occasional use",
    price: "$0",
    priceSuffix: "/forever",
    features: [
      "10 conversions per day",
      "All features included",
      "100% private processing",
      "Works offline",
      "No account required",
    ],
    ctaLabel: "Add to Chrome",
    ctaHref: siteConfig.links.chromeWebStore,
    ctaIcon: "simple-icons:googlechrome",
  },
  {
    tier: "premium",
    name: "Premium",
    tagline: "For power users and professionals",
    price: formattedPrice,
    priceSuffix: "/lifetime",
    features: [
      "Unlimited conversions",
      "All features included",
      "100% private processing",
      "Works offline",
      "One-time payment",
      "Lifetime updates",
    ],
    ctaLabel: "Get Premium",
    ctaHref: siteConfig.links.premiumCheckout,
    ctaIcon: "lucide:sparkles",
  },
];

const trustBadges: TrustBadge[] = [
  { icon: "lucide:gift", label: "10 Free Daily" },
  { icon: "lucide:shield-check", label: "100% Private" },
  { icon: "lucide:zap", label: "Instant Conversion" },
];
---

<RootLayout title="Webpages to Markdown for AI">
  <main id="main-content">
    <HeroSection
      badge="Now available on Chrome Web Store"
      headline={{
        prefix: "Webpages to",
        highlight: "Markdown",
        suffix: "for AI",
      }}
      subheadline="Convert any webpage into clean, formatted Markdown with one click. Perfect for ChatGPT, Claude, Gemini, and other AI assistants."
      trustBadges={trustBadges}
    />

    <HowItWorksSection
      title="How it works"
      subtitle="Three simple steps. No configuration needed."
      steps={steps}
    />

    <FeaturesSection
      title="Everything you need"
      subtitle="Powerful features designed for the AI workflow"
      features={features}
    />

    <UseCasesSection
      title="Perfect for"
      subtitle="Supercharge your AI workflow"
      useCases={useCases}
    />

    <PrivacySection
      badgeText="Privacy First"
      title="Your data never leaves your browser"
      description="Clipwise AI processes everything locally. We can't see what you convert because the data never leaves your device."
      highlights={privacyHighlights}
    />

    <PricingSection
      title="Simple, transparent pricing"
      subtitle="Start free. Upgrade when you need more."
      tiers={pricingTiers}
      disclaimer="Daily conversions reset at midnight in your timezone. Premium license works on up to 3 browsers."
    />

    <FinalCtaSection
      title="Ready to supercharge your AI workflow?"
      subtitle="Start with 10 free conversions daily. Upgrade anytime for unlimited access."
      disclaimer="No account required • No credit card needed"
    />
  </main>
</RootLayout>
