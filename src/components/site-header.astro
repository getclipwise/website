---
import Container from "@/components/container.astro";
import { siteConfig } from "@/lib/site-config";

/** Normalize pathname by removing trailing slash (except for root "/") */
function normalizePath(path: string) {
  return path === "/" ? path : path.replace(/\/$/, "");
}

const currentPath = normalizePath(Astro.url.pathname);
---

<a
  href="#main-content"
  class="absolute -top-10 left-0 z-50 bg-foreground px-4 py-2 text-background no-underline focus:top-0"
>
  Skip to main content
</a>

<header class="border-b py-4">
  <Container>
    <nav aria-label="Main navigation" class="flex items-center justify-between">
      <a href="/" class="font-semibold text-inherit no-underline">
        {siteConfig.name}
      </a>
      <ul role="list" class="m-0 flex list-none gap-6 p-0">
        <li>
          <a
            href="/privacy"
            aria-current={currentPath === "/privacy" ? "page" : undefined}
            class="text-inherit no-underline hover:text-primary"
          >
            Privacy
          </a>
        </li>
      </ul>
    </nav>
  </Container>
</header>
