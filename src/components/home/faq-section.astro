---
import type { FAQ } from "@/types";
import { Icon } from "astro-icon/components";

interface Props {
  id: string;
  title: string;
  subtitle: string;
  faqs: FAQ[];
}

const { id, title, subtitle, faqs } = Astro.props;
---

<section id={id} class="py-20 md:py-28">
  <div class="mx-auto max-w-3xl px-4">
    <div class="text-center">
      <h2 class="text-3xl font-bold tracking-tight md:text-4xl">
        {title}
      </h2>
      <p class="mt-4 text-lg text-muted-foreground">
        {subtitle}
      </p>
    </div>

    <div class="mt-12 divide-y divide-border rounded-2xl border bg-card">
      {
        faqs.map((faq) => (
          <details class="group [--faq-line-height:1.375rem] first:rounded-t-2xl last:rounded-b-2xl">
            <summary class="flex cursor-pointer items-start justify-between gap-4 px-6 py-5 text-lg/(--faq-line-height) font-semibold transition-colors hover:text-primary [&::-webkit-details-marker]:hidden">
              <span>{faq.question}</span>
              <Icon
                name="lucide:chevron-down"
                class="size-(--faq-line-height) shrink-0 text-muted-foreground transition-transform group-open:rotate-180"
                aria-hidden="true"
              />
            </summary>
            <div class="px-6 pb-5 text-muted-foreground">
              <p>{faq.answer}</p>
            </div>
          </details>
        ))
      }
    </div>
  </div>
</section>
