---
import AddToChromeButton from "@/components/add-to-chrome-button.astro";
import StatusBadge from "@/components/status-badge.astro";
import type { Headline, TrustBadge } from "@/types";
import { Icon } from "astro-icon/components";

interface Props {
  badge: string;
  headline: Headline;
  subheadline: string;
  trustBadges: TrustBadge[];
}

const { badge, headline, subheadline, trustBadges } = Astro.props;
---

<section class="relative overflow-hidden py-24 md:py-32">
  <!-- Background gradient mesh -->
  <div
    class="pointer-events-none absolute inset-0 -z-10 overflow-hidden"
    aria-hidden="true"
  >
    <div
      class="aurora-layer aurora-layer--1 absolute -top-1/2 left-1/2 h-[800px] w-[800px] -translate-x-1/2 rounded-full bg-linear-to-br from-emerald-400/30 via-emerald-500/10 to-transparent blur-3xl dark:from-emerald-400/20 dark:via-emerald-500/10"
    >
    </div>
    <div
      class="aurora-layer aurora-layer--2 absolute -bottom-1/4 right-0 h-[600px] w-[600px] rounded-full bg-linear-to-tl from-emerald-500/20 via-transparent to-transparent blur-3xl dark:from-emerald-500/15"
    >
    </div>
  </div>

  <div class="mx-auto max-w-4xl px-4 text-center">
    <div class="mb-8">
      <StatusBadge>{badge}</StatusBadge>
    </div>

    <!-- Headline -->
    <h1 class="text-5xl font-extrabold tracking-tight md:text-6xl lg:text-7xl">
      {headline.prefix}
      <span
        class="bg-linear-to-r from-emerald-600 to-emerald-500 bg-clip-text text-transparent dark:from-emerald-400 dark:to-emerald-300"
      >
        {headline.highlight}
      </span>
      <br />
      {headline.suffix}
    </h1>

    <!-- Subheadline -->
    <p class="mx-auto mt-6 max-w-2xl text-lg text-muted-foreground md:text-xl">
      {subheadline}
    </p>

    <!-- CTA Button -->
    <div
      class="mt-10 flex flex-col items-center justify-center gap-4 sm:flex-row"
    >
      <AddToChromeButton />
    </div>

    <!-- Trust badges -->
    <div
      class="mt-12 flex flex-wrap items-center justify-center gap-6 text-sm text-muted-foreground"
    >
      {
        trustBadges.map((badge) => (
          <div class="flex items-center gap-2">
            <Icon name={badge.icon} class="size-5 text-primary" />
            {badge.label}
          </div>
        ))
      }
    </div>
  </div>
</section>

<style>
  .aurora-layer {
    animation: aurora-drift-1 14s ease-in-out infinite alternate;
    will-change: transform;
  }

  .aurora-layer--1 {
    animation-delay: -4s;
  }

  .aurora-layer--2 {
    animation: aurora-drift-2 18s ease-in-out infinite alternate -6s;
  }

  @keyframes aurora-drift-1 {
    0% {
      transform: translate3d(0, 0, 0) scale(1);
    }
    50% {
      transform: translate3d(-8%, 0, 0) scale(1.06);
    }
    100% {
      transform: translate3d(6%, 0, 0) scale(1.03);
    }
  }

  @keyframes aurora-drift-2 {
    0% {
      transform: translate3d(0, 0, 0) scale(1);
    }
    50% {
      transform: translate3d(-12%, 0, 0) scale(1.08);
    }
    100% {
      transform: translate3d(8%, 0, 0) scale(1.05);
    }
  }

  @media (max-width: 640px), (prefers-reduced-motion: reduce) {
    .aurora-layer {
      animation: none;
    }
  }
</style>
